-- 000_create_uuid_extension.sql
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- docker-compose exec postgres bash -c "psql -U postgres -d bus_ticket_dev -c 'DROP SCHEMA public CASCADE; CREATE SCHEMA public; GRANT ALL ON SCHEMA public TO postgres; GRANT ALL ON SCHEMA public TO public;' && psql -U postgres -d bus_ticket_dev -f /docker-entrypoint-initdb.d/000_create_uuid_extension.sql -f /docker-entrypoint-initdb.d/001_create_users_table.sql -f /docker-entrypoint-initdb.d/002_add_email_verification.sql -f /docker-entrypoint-initdb.d/003_add_password_reset.sql -f /docker-entrypoint-initdb.d/004_add_failed_login_attempts.sql -f /docker-entrypoint-initdb.d/005_seed_users.sql -f /docker-entrypoint-initdb.d/006_create_bus_models_table.sql -f /docker-entrypoint-initdb.d/007_create_seat_layouts_table.sql -f /docker-entrypoint-initdb.d/008_create_operators_table.sql -f /docker-entrypoint-initdb.d/009_create_routes_table.sql -f /docker-entrypoint-initdb.d/010_create_route_stops_table.sql -f /docker-entrypoint-initdb.d/011_create_buses_table.sql -f /docker-entrypoint-initdb.d/012_create_trips_table.sql -f /docker-entrypoint-initdb.d/013_create_seats_table.sql -f /docker-entrypoint-initdb.d/014_create_bookings_table.sql -f /docker-entrypoint-initdb.d/015_create_bookings_passenger.sql -f /docker-entrypoint-initdb.d/016_seed_bus_route_trip.sql && echo 'Tất cả bảng đã được tạo lại và seed dữ liệu thành công!'"
-- Lệnh trên sẽ chạy tất cả các file SQL theo thứ tự để tạo extension, bảng và seed dữ liệu.